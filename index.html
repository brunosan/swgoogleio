<!DOCTYPE html>
<html>
<head>
  <script src='http://api.tiles.mapbox.com/mapbox.js/v0.6.7/mapbox.js'></script>
  <link href='http://api.tiles.mapbox.com/mapbox.js/v0.6.7/mapbox.css' rel='stylesheet' />
  <style>
    body { margin:0; padding:0; }
    #map { position:absolute; top:0; bottom:0; width:100%; }
  </style>
</head>
<body>
<div id='map'></div>
<script>
  // Create map
  mapbox.auto('map', 'examples.map-zr0njcqy', function(map, tiledata) {

    //Add GeoJSON markers
	var markers = mapbox.markers.layer().url('events.geojson');
	mapbox.markers.interaction(markers);
	map.addLayer(markers);
    

	// Replace marker factory function with our version
    tiledata.markers.factory(function(m) {

        // Create a marker using the simplestyle factory
        var elem = mapbox.markers.simplestyle_factory(m);

        // Add function that centers marker on click
        MM.addEvent(elem, 'click', function(e) {
            map.ease.location({
              lat: m.geometry.coordinates[1],
              lon: m.geometry.coordinates[0]
            }).zoom(map.zoom()).optimal();
        });

		// Add a second callback
		MM.addEvent(elem, 'click', function(e) {
		 /// your code here
		});
		
		//Cycle through markers? http://mapbox.com/mapbox.js/example/cycle-markers/

        return elem;
    });
  });
</script>
</body>
</html>